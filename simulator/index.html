<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Simulator - ParaDrone</title>
    <link rel="icon" type="image/png" href="https://paradr.one/favicon.png">
    <meta property="og:title" content="ParaDrone: Autopilot for Parachutes">
    <meta property="og:description" content="The ParaDrone project aims to create hardware and software for autonomous parachute flight at full human scale.">
    <meta property="og:image" content="https://paradr.one/social.png">
    <meta name="keywords" content="autopilot, paraglider, parachute, paramotor, ppg, flight, drone, arduino, gps, lora">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#6b00ff">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://cesium.com/downloads/cesiumjs/releases/1.76/Build/Cesium/Widgets/widgets.css">
  </head>

  <body>
    <div class="container">
      <div class="sidebar">
        <h1>ParaDrone</h1>

        <div class="sidebar-section">
          <div class="sidebar-header">
            Wind
          </div>
          <div>
            <svg height="100" width="100" id="windgram">
              <circle cx="50" cy="50" r="22.5" stroke="#333" stroke-width="1" fill="none"/>
              <circle cx="50" cy="50" r="45" stroke="#333" stroke-width="1" fill="none"/>
              <line x1="50" y1="50" x2="50" y2="50" stroke="#111" stroke-width="3" id="windgram-line"/>
            </svg>
            <div class="wind-labels">
              <div id="wind-speed"></div>
              <div id="wind-direction"></div>
            </div>
          </div>
        </div>

        <div class="sidebar-section">
          <div class="sidebar-header">
            Toggles
          </div>
          <div class="sidebar-parameter">
            <div id="toggle-left-target"></div>
            <div class="text-center text-faded">target</div>
            <div id="toggle-right-target"></div>
          </div>
          <div class="sidebar-parameter">
            <div id="toggle-left"></div>
            <div class="text-center text-faded">pos</div>
            <div id="toggle-right"></div>
          </div>
        </div>
        <div class="sidebar-section">
          <div class="sidebar-header plan-header">
            Plan
            <input type="checkbox" id="plan-enabled" title="Show short term plan" checked>
          </div>
          <div class="sidebar-parameter">
            <div class="text-faded">mode</div>
            <div id="plan-name"></div>
          </div>
          <div class="sidebar-parameter">
            <div class="text-faded">error</div>
            <div id="plan-error"></div>
          </div>
        </div>
        <div class="sidebar-section">
          <div class="sidebar-header sim-header">
            Sim
            <input type="checkbox" id="sim-enabled" title="Show simulated path" checked>
          </div>
          <div class="sidebar-parameter">
            <div class="text-faded">error</div>
            <div id="sim-error"></div>
          </div>
          <svg id="sim-error-chart"></svg> <!-- TODO -->
        </div>

        <div class="sidebar-section">
          <div class="sidebar-header">
            Testing
          </div>
          <button class="btn" id="test-button">Test</button>
          <div id="test-score"></div>
          <div id="test-distance"></div>
          <div id="test-angle"></div>
          <div id="test-n"></div>
          <div id="test-time"></div>
        </div>
      </div>

      <div class="map-container">
        <div id="map"></div>
        <div class="map-overlay">
          <div class="ap-status">
            <div id="ap-latlng"></div>
            <div id="ap-alt"></div>
            <div id="ap-speed"></div>
            <div id="ap-landingzone"></div>
          </div>
        </div>
        <div class="playback-controls map-overlay">
          <div>
            <button class="map-overlay-button icon-stop" id="map-stop" title="Stop"></button>
            <button class="map-overlay-button icon-play" id="map-play" title="Play/Pause"></button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>
    <script>
      requirejs.config({
        paths: {
          cesium: "https://cesium.com/downloads/cesiumjs/releases/1.76/Build/Cesium/Cesium",
          d3: "https://d3js.org/d3.v6.min",
        }
      })
      // Load javascript modules
      require(["js/main"], function(main) {
        main.init()
      })
    </script>
  </body>
</html>
